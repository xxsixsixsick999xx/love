<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Kabur Final</title>

<style>
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background: radial-gradient(circle, #ff4d6d, #c9184a);
    font-family: Arial, sans-serif;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:#fff;
    text-align:center;
}

/* AREA GERAK */
.stage{
    position:relative;
    width:100vw;
    height:70vh;
}

/* WRAPPER */
.wrap{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
}

/* LOVE (DI BAWAH TEKS) */
.heart{
    position:absolute;
    width:70px;
    height:70px;
    background:#ff1e56;
    transform:translate(-50%,-50%) rotate(-45deg);
    border-radius:10px;
    z-index:1;
    transition:transform .18s ease;
}
.heart::before,
.heart::after{
    content:"";
    position:absolute;
    width:70px;
    height:70px;
    background:#ff1e56;
    border-radius:50%;
}
.heart::before{top:-35px;left:0;}
.heart::after{left:35px;top:0;}

/* TEKS DI ATAS LOVE (ANTI KETUTUP) */
.label{
    position:absolute;
    top:-28px;
    left:50%;
    transform:translateX(-50%);
    font-size:22px;
    font-weight:800;
    white-space:nowrap;
    text-shadow:0 0 14px rgba(255,255,255,.95);
    z-index:10;
    pointer-events:none;
}

/* TEKS STATUS */
.text{
    margin-top:16px;
    min-height:40px;
    font-size:22px;
    font-weight:800;
    opacity:0;
    transition:.2s;
}
.text.show{opacity:1;}

.hint{
    font-size:14px;
    opacity:.8;
}

.credit{
    position:fixed;
    bottom:10px;
    font-size:12px;
    opacity:.6;
}
</style>
</head>

<body>

<div class="stage" id="stage">
    <div class="wrap" id="wrap">
        <div class="label" id="label">Syifa Rahmadani</div>
        <div class="heart" id="heart"></div>
    </div>
</div>

<div class="text" id="text"></div>
<div class="hint" id="hint">Coba klik love-nya üò≥</div>
<div class="credit">Dev by Tuan Muda ‚ù§Ô∏è</div>

<script>
const stage = document.getElementById("stage");
const wrap  = document.getElementById("wrap");
const heart = document.getElementById("heart");
const label = document.getElementById("label");
const text  = document.getElementById("text");
const hint  = document.getElementById("hint");

const MAX_ESCAPE = 10;
let escapeCount = 0;
let unlocked = false;

// posisi awal
let x = stage.clientWidth/2;
let y = stage.clientHeight/2;
setPos(x,y);

function setPos(px,py){
    wrap.style.left = px+"px";
    wrap.style.top  = py+"px";
}

function randomFar(){
    const pad = 80;
    const w = stage.clientWidth;
    const h = stage.clientHeight;

    let nx, ny, dist;
    do{
        nx = pad + Math.random()*(w-pad*2);
        ny = pad + Math.random()*(h-pad*2);
        dist = Math.hypot(nx-x, ny-y);
    } while(dist < 220); // JAUH

    return {x:nx,y:ny};
}

const dialog = [
    "EH üò≥",
    "JANGAN üò∞",
    "AKU PANIK üòµ‚Äçüí´",
    "WOI üò±",
    "UDAH üò≠",
    "MALU ü´£",
    "KOK MAKSA ü•≤",
    "SEREM üòµ",
    "BENTAR üò¨",
    "OK PASRAH üòî"
];

heart.addEventListener("pointerdown",(e)=>{
    e.preventDefault();

    if(!unlocked){
        escapeCount++;
        text.classList.add("show");
        text.innerText = dialog[Math.min(escapeCount-1, dialog.length-1)] +
            ` (${MAX_ESCAPE-escapeCount}x)`;

        if(escapeCount >= MAX_ESCAPE){
            unlocked = true;
            text.innerText = "OKE‚Ä¶ SEKARANG BOLEH DIKLIK üòå‚ù§Ô∏è";
            hint.innerText = "Klik sekali lagi üòâ";
            return;
        }

        const pos = randomFar();
        x = pos.x; y = pos.y;
        setPos(x,y);
        return;
    }

    // AKHIR
    label.innerText = "I Love You ‚ù§Ô∏è";
    text.innerText = "Akhirnya ketangkep juga üíñ";
    hint.innerText = "FINISH üòÑ";
});
</script>

</body>
</html>
