<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Love Kabur 10x</title>

<style>
  body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background: radial-gradient(circle, #ff4d6d, #c9184a);
    font-family: Arial, sans-serif;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:#fff;
    text-align:center;
  }

  .stage{
    position:relative;
    width:100vw;
    height:70vh;
  }

  /* Love kecil */
  .heart{
    position:absolute;
    left:50%;
    top:50%;
    width:70px;
    height:70px;
    transform: translate(-50%, -50%) rotate(-45deg);
    background:#ff1e56;
    border-radius:10px;
    cursor:pointer;
    transition: transform 0.18s ease;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  }
  .heart::before, .heart::after{
    content:"";
    position:absolute;
    width:70px;
    height:70px;
    background:#ff1e56;
    border-radius:50%;
  }
  .heart::before{ top:-35px; left:0; }
  .heart::after{ left:35px; top:0; }

  /* Nama di atas love (tidak ketutup) */
  .name{
    position:absolute;
    left:50%;
    top:50%;
    transform: translate(-50%, -120%);
    font-weight:700;
    font-size:22px;
    text-shadow: 0 0 12px rgba(255,255,255,0.95);
    pointer-events:none;
  }

  /* Text status */
  .text{
    margin-top:18px;
    min-height:42px;
    font-size:22px;
    font-weight:800;
    letter-spacing:1px;
    opacity:0;                 /* penting: default hidden */
    transform: translateY(6px);
    transition: opacity .2s ease, transform .2s ease;
  }
  .text.show{
    opacity:1;
    transform: translateY(0);
  }

  .hint{
    margin-top:8px;
    font-size:14px;
    opacity:.8;
  }

  /* credit kecil */
  .credit{
    position:fixed;
    bottom:10px;
    font-size:12px;
    opacity:.6;
  }
</style>
</head>

<body>
  <div class="stage" id="stage">
    <div class="name" id="name">Syifa</div>
    <div class="heart" id="heart" aria-label="love"></div>
  </div>

  <div class="text" id="text"></div>
  <div class="hint" id="hint">Coba klik love-nya üò≥ (dia bakal kabur dulu)</div>
  <div class="credit">dibuat oleh Reza Afandi ‚ù§Ô∏è</div>

<script>
  const heart = document.getElementById("heart");
  const stage = document.getElementById("stage");
  const text = document.getElementById("text");
  const name = document.getElementById("name");
  const hint = document.getElementById("hint");

  // jumlah kabur sebelum boleh klik beneran
  const ESCAPE_LIMIT = 10;

  let escapeCount = 0;
  let canClickForReal = false;

  // posisi target (dalam px relatif stage)
  let currentX = stage.clientWidth / 2;
  let currentY = stage.clientHeight / 2;

  // set posisi heart berdasarkan koordinat stage
  function setHeartPos(x, y){
    heart.style.left = x + "px";
    heart.style.top  = y + "px";
    // heart sendiri sudah rotate, tapi posisinya absolut
    heart.style.transform = "translate(-50%, -50%) rotate(-45deg)";
    // nama ikut di atas love
    name.style.left = x + "px";
    name.style.top  = y + "px";
  }

  // pilih posisi baru yang "jauh"
  function getFarPosition(fromX, fromY){
    const w = stage.clientWidth;
    const h = stage.clientHeight;

    // zona aman supaya tidak kepotong layar
    const pad = 60;

    // minimal jarak kabur (makin lama makin jauh)
    const minDist = Math.min(220 + escapeCount * 15, 380);

    let tries = 0;
    while (tries < 50){
      tries++;

      const x = pad + Math.random() * (w - pad*2);
      const y = pad + Math.random() * (h - pad*2);

      const dx = x - fromX;
      const dy = y - fromY;
      const dist = Math.hypot(dx, dy);

      if (dist >= minDist) return {x,y};
    }

    // fallback: pojok random
    const corners = [
      {x: pad, y: pad},
      {x: w - pad, y: pad},
      {x: pad, y: h - pad},
      {x: w - pad, y: h - pad},
    ];
    return corners[Math.floor(Math.random()*corners.length)];
  }

  function showPanic(){
    // muncul hanya saat interaksi kabur (timing pas)
    text.classList.add("show");

    // variasi teks panik per tahap biar lucu + sesuai momen
    const left = ESCAPE_LIMIT - escapeCount;
    const lines = [
      "EH! üò≥",
      "JANGAN! üò∞",
      "AKU PANIK üòµ‚Äçüí´",
      "WOI WOI üò±",
      "STOPPP üò≠",
      "AKU MALU ü´£",
      "KOK MAKSA ü•≤",
      "UDAH 10X YA?! üòµ",
      "BENTAR LAGI‚Ä¶ üò¨",
      "OK‚Ä¶ PASRAH üòî"
    ];
    const idx = Math.min(escapeCount-1, lines.length-1);
    text.textContent = `${lines[idx]}  (${left}x lagi)`;
  }

  function showReady(){
    text.classList.add("show");
    text.textContent = "OKE‚Ä¶ SEKARANG BOLEH KLIK üòå‚ù§Ô∏è";
    hint.textContent = "Sekarang klik beneran ya!";
  }

  function finish(){
    canClickForReal = true;
    heart.style.cursor = "pointer";
    name.textContent = "I Love You ‚ù§Ô∏è";
    text.classList.add("show");
    text.textContent = "Akhirnya ketangkep juga üíñ";
    hint.textContent = "Mantap üòÑ";
  }

  // posisi awal
  setHeartPos(currentX, currentY);

  // ‚Äúmau klik‚Äù = kita pakai pointerdown supaya di HP kerasa responsif
  heart.addEventListener("pointerdown", (e) => {
    // cegah klik default dulu (biar gak ‚Äúke-klik‚Äù sebelum waktunya)
    e.preventDefault();

    // kalau belum waktunya: kabur
    if (!canClickForReal){
      escapeCount++;

      showPanic();

      // setelah 10x kabur ‚Üí siap diklik beneran
      if (escapeCount >= ESCAPE_LIMIT){
        canClickForReal = true;
        showReady();
        return;
      }

      // pindah jauh
      const next = getFarPosition(currentX, currentY);
      currentX = next.x;
      currentY = next.y;
      setHeartPos(currentX, currentY);
      return;
    }

    // kalau sudah waktunya: klik beneran
    finish();
  });

  // biar saat resize tetap aman
  window.addEventListener("resize", () => {
    const w = stage.clientWidth;
    const h = stage.clientHeight;
    currentX = Math.max(60, Math.min(w-60, currentX));
    currentY = Math.max(60, Math.min(h-60, currentY));
    setHeartPos(currentX, currentY);
  });
</script>

</body>
</html>
